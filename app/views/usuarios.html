
<main class="vw-client">
<div>

<div class="col s9">
      <h3 class="thin">Usuarios</h3>
      <div class="add-button">
        <a class="modal-trigger btn-floating btn-small waves-effect waves-light blue-grey" href="#agregar">
          <i class="material-icons">add</i>
        </a>
         </div>
      </div>
   
      <p></p>
        <table class="striped">
        <thead>
          <tr>
              <th data-field="nombre"><h6>Nombre</h6></th>
              <th data-field="rol"><h6>Rol</h6></th>
              <th data-field="email"><h6>E-mail</h6></th>
              <th data-field="actualizar"><h6>Actualizar</h6></th>
              <th data-field="borrar"><h6>Delete</h6></th>
          </tr>
        </thead>

        <tbody>
          <tr ng-repeat="user in ctrl.users">
            <td>{{ctrl.getFullName(user)}}</td>
            <td>{{user.roles[0].name}}</td>
            <td>{{user.email}}</td>
            <td><a class="btn-floating btn-small waves-effect waves-light modal-trigger blue" href="#modal2"><i class="material-icons">mode_edit</i></a></td>
            <td><a class="btn-floating btn-small waves-effect waves-light red"><i class="material-icons">delete</i></a></td>
          </tr>
        </tbody>
      </table>
       <ul class="pagination center-align">
      <li class="disabled"><a href="#!"><i class="material-icons">chevron_left</i></a></li>
      <li class="active blue-grey darken-4"><a href="#!">1</a></li>
      <li class="waves-effect"><a href="#!">2</a></li>
      <li class="waves-effect"><a href="#!">3</a></li>
      <li class="waves-effect"><a href="#!">4</a></li>
      <li class="waves-effect"><a href="#!">5</a></li>
      <li class="waves-effect"><a href="#!"><i class="material-icons">chevron_right</i></a></li>
    </ul>
      </div>


  <!-- Modal nuevo usuario -->
  <div id="agregar" class="modal">
    <div class="modal-content">

      <h5>AGREGAR NUEVO USUARIO</h5>
      <p>Formulario para agregar nuevo usuario</p>
      <!--txt Nombre-->
      <form action="" name="ctrl.postUserForm" id="post-user" method="post">
        <div class="row center">
          <div class="input-field col s6">
            <i class="material-icons prefix">picture_in_picture</i>
            <input placeholder="Primer Nombre" type='text'
                   name='firstName' id='f-name' ng-model="ctrl.post.firstname" required
                   class="{{ctrl.post.firstname.length > 0 ? '' : 'invalid'}}">
          </div>
          <div class="input-field col s6">
            <input placeholder="Segundo Nombre" id="s-nombre" type="text"
                   name='middlename' ng-model="ctrl.post.middlename">
          </div>
        </div>

        <div class="row center">
          <div class="input-field col s6">
            <i class="material-icons prefix">picture_in_picture</i>
            <input placeholder="Primer Apellido" id="p-apellido" type="text"
                   name="lastname" ng-model="ctrl.post.lastname" required
                   class="{{ctrl.post.lastname.length > 0 ? '' : 'invalid'}}">
          </div>
          <div class="input-field col s6">
            <input placeholder="Segundo Apellido" id="s-apellido" type="text"
                   name="secondLastname" ng-model="ctrl.post.secondLastname">
          </div>
        </div>
        <row>
          <div class="input-field col s12">
            <i class="material-icons prefix">Usuario</i>  
            <input placeholder="username" id="newUsername" type="text" class="validate" ng-model="ctrl.post.newUsername">
          </div>
        </row>
        <row>
          <div class="input-field col s12">
            <i class="material-icons prefix">Contrase√±a</i>  
            <input placeholder="password" id="newPassword" type="password" class="validate" ng-model="ctrl.post.newPassword">
          </div>
        </row>
        <row>
          <div class="input-field col s12">
            <i class="material-icons prefix">E-mail</i>  
            <input placeholder="email" id="email" type="text" class="validate" ng-model="ctrl.post.email">
          </div>
        </row>
        <row>
          <div class="input-field col s12">
            <select id="rol" class="validate" ng-model="ctrl.post.rol">
              <option value="" disabled selected>Seleccione el Rol</option>
              <option ng-repeat="rol in ctrl.roles" value="{{rol}}">{{rol}}</option>
            </select>
          </div>
        </row>
        <div class="modal-footer">
          <a href="#!" class=" modal-action modal-close waves-effect waves-blue darken-4 btn-flat">SALIR</a>
          <button type="submit" class=" modal-action modal-close waves-effect waves-blue darken-4 btn-flat"
               ng-click="ctrl.submitUser(ctrl.postUserForm)" ng-show="ctrl.postUserForm.$valid">
               AGREGAR
          </button>
        </div>
      </form>
    </div>
  </div>

      <div id="modal1" class="modal">
    <div class="modal-content">

          <h5>AGREGAR EDITAR USUARIO</h5>
          <p>Formulario para editar un usuario</p>
          <!--txt Nombre-->
         <row>
            <div class="input-field col s12">
              <i class="material-icons prefix">picture_in_picture</i>
              <input placeholder="nombre" id="nombre" type="text" class="validate">
            </div>
          </row>
          <row>
            <div class="input-field col s12">
              <i class="material-icons prefix">Rol</i>  
              <input placeholder="rol" id="rol" type="text" class="validate">
            </div>
          </row>
          <row>
            <div class="input-field col s12">
              <i class="material-icons prefix">E-mail</i>  
              <input placeholder="email" id="email" type="text" class="validate">
            </div>
          </row>
        </div>
        <div class="modal-footer">
          <a href="#!" class=" modal-action modal-close waves-effect waves-blue darken-4 btn-flat">SALIR</a>
            <a href="#!" class=" modal-action modal-close waves-effect waves-blue darken-4 btn-flat">AGREGAR</a>
        </div>
</div>
    </div>

<script>

$(document).ready(function(){
    $('.modal').modal();
    $('select').material_select();
  });

  </script>
    </div>
    </main>